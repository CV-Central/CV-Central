@model User;
@using System.Security.Claims;
@{
    var pictureUrl = ViewBag.PictureUrl as string;
    ViewData["Title"] = "CV Central";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/home.css">
    <link rel="stylesheet" href="~/css/site.css">
    <link rel="shortcut icon" href="~/img/favicon.svg" type="image/x-icon">
    <title>CV Central</title>
</head>
<body>
    <main>
        <div class="subtitles">
        <h2>Bienvenido, @Model.Name</h2>
        
        <div class="menu">
            <div class="menu-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256"><path fill="#ffffff" d="m210.78 39.25l-130.25-23A16 16 0 0 0 62 29.23l-29.75 169a16 16 0 0 0 13 18.53l130.25 23a16 16 0 0 0 18.54-13l29.75-169a16 16 0 0 0-13.01-18.51m-75.28 92.31a8 8 0 0 1-7.87 6.61a8.3 8.3 0 0 1-1.4-.12l-41.5-7.33A8 8 0 0 1 87.52 115l41.48 7.29a8 8 0 0 1 6.5 9.27m47-24.18a8 8 0 0 1-7.86 6.61a7.6 7.6 0 0 1-1.41-.13l-83-14.65a8 8 0 0 1 2.79-15.76l83 14.66a8 8 0 0 1 6.51 9.27Zm5.55-31.52a8 8 0 0 1-7.87 6.61a8.4 8.4 0 0 1-1.4-.12l-83-14.66a8 8 0 1 1 2.78-15.75l83 14.65a8 8 0 0 1 6.52 9.27Z"/></svg>
                <p>Ver CV</p>
            </div>
        </div>

        <h2>Tus datos</h2>
        </div>

        <div class="cards mt-2">
            <div class="cardx card-profile">
                <h4>Tu Foto</h4>

                <div class="card-profile-img">
                    @* Si hay un usuario que esta autenticado mostrar su nombre *@
                    @if (User.Identity!.IsAuthenticated)
                    {
                        @* Llamar el Claims que antes habia definido dentro de ClaimTypes, que fue el nombre en la función LogIn y devolverlo con Select *@
                        @if (!string.IsNullOrEmpty(pictureUrl))
                        {
                            <img src="@pictureUrl" alt="Profile Picture" />
                        }
                        else
                        {
                            <img src="~/img/avatarDefault.png" alt="Profile Picture Default" />
                        }
                    }

                    <div class="card-profile-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M5 7h1a2 2 0 0 0 2-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2"/><path d="M9 13a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/></g></svg>
                        
                        <p>Subir una foto</p>
                    </div>
                </div>
            </div>

            
            <div class="cardx card-info">
                <h4>Información Personal</h4>

                <div class="info-fields">
                    <p><span>Nombre Completo: </span> @Model.Name</p>
                    <p><span>Edad: </span> @Model.Age</p>
                    <p><span>Dirección: </span> @Model.Address</p>
                    <p><span>Teléfono: </span> @Model.Phone</p>
                </div>

                <a asp-controller="User" asp-action="EditData" class="edit-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="m13 6l5 5l-9.507 9.507a1.766 1.766 0 0 1-.012-2.485l-.003-.003a1.763 1.763 0 0 1-2.521-2.467l-.008-.008a1.765 1.765 0 0 1-2.455-.036zm7.586-.414l-2.172-2.172a2 2 0 0 0-2.828 0L14 5l5 5l1.586-1.586a2 2 0 0 0 0-2.828M3 18v3h3a3 3 0 0 0-3-3"/></svg>
                </a>
            </div>

            <div class="cardx card-info">
                <h4>Formación Académica</h4>

                <div class="info-fields">
                    <p><span>Institución: </span> INEM*</p>
                    <p><span>Título: </span> Auxiliar*</p>
                    <p><span>Inicio: </span> 2022*</p>
                    <p><span>Finalización: </span> 2023*</p>
                    <p><span>Descripción: </span> Media Técnica Programación*</p>
                </div>

                <a asp-for=""  asp-controller="" class="edit-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="m13 6l5 5l-9.507 9.507a1.766 1.766 0 0 1-.012-2.485l-.003-.003a1.763 1.763 0 0 1-2.521-2.467l-.008-.008a1.765 1.765 0 0 1-2.455-.036zm7.586-.414l-2.172-2.172a2 2 0 0 0-2.828 0L14 5l5 5l1.586-1.586a2 2 0 0 0 0-2.828M3 18v3h3a3 3 0 0 0-3-3"/></svg>
                </a>
            </div>

            <div class="cardx card-info">
                <h4>Cursos y Certificados</h4>

                <div class="info-fields">
                    <p><span>Nombre: </span> JavaScript*</p>
                    <p><span>Institución: </span> Info Center*</p>
                    <p><span>Inicio: </span> 2023*</p>
                    <p><span>Finalización: </span> 2024*</p>
                    <p><span>Descripción: </span> Curos Avanzado JavaScript*</p>
                </div>

                <a asp-for=""  asp-controller="" class="edit-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="m13 6l5 5l-9.507 9.507a1.766 1.766 0 0 1-.012-2.485l-.003-.003a1.763 1.763 0 0 1-2.521-2.467l-.008-.008a1.765 1.765 0 0 1-2.455-.036zm7.586-.414l-2.172-2.172a2 2 0 0 0-2.828 0L14 5l5 5l1.586-1.586a2 2 0 0 0 0-2.828M3 18v3h3a3 3 0 0 0-3-3"/></svg>
                </a>
            </div>

            <div class="cardx card-info">
                <h4>Habilidades</h4>

                <div class="info-fields">
                    <p><span>Nombre: </span> HTML</p>
                    <p><span>Nivel: </span> 6/10</p>
                </div>

                <a asp-for=""  asp-controller="" class="edit-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="m13 6l5 5l-9.507 9.507a1.766 1.766 0 0 1-.012-2.485l-.003-.003a1.763 1.763 0 0 1-2.521-2.467l-.008-.008a1.765 1.765 0 0 1-2.455-.036zm7.586-.414l-2.172-2.172a2 2 0 0 0-2.828 0L14 5l5 5l1.586-1.586a2 2 0 0 0 0-2.828M3 18v3h3a3 3 0 0 0-3-3"/></svg>
                </a>
            </div>

            <div class="cardx card-info">
                <h4>Experiencia</h4>

                <div class="info-fields">
                    <p><span>Compañía: </span> Celsia</p>
                    <p><span>Puesto: </span> DevOps</p>
                    <p><span>Inicio: </span> 2024</p>
                    <p><span>Finalización: </span> 2025</p>
                    <p><span>Descripción: </span> Azure</p>
                </div>

                <a asp-for=""  asp-controller="" class="edit-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="m13 6l5 5l-9.507 9.507a1.766 1.766 0 0 1-.012-2.485l-.003-.003a1.763 1.763 0 0 1-2.521-2.467l-.008-.008a1.765 1.765 0 0 1-2.455-.036zm7.586-.414l-2.172-2.172a2 2 0 0 0-2.828 0L14 5l5 5l1.586-1.586a2 2 0 0 0 0-2.828M3 18v3h3a3 3 0 0 0-3-3"/></svg>
                </a>
            </div>
        </div>
        @* <p>Correo electrónico: @User.Claims.Where(c => c.Type == ClaimTypes.Email).Select(c => c.Value).SingleOrDefault()</p> *@
    </main>
</body>
</html>
